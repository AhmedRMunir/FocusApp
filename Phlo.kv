#:kivy 2.0
WindowManager:

<Button>
    font_size: 20
    size_hint: (0.3, 0.3)
    

<Background@FloatLayout>:
    Image:
        id: my_image
        source: "dark.zip"
        anim_delay: 0.04
        allow_stretch: True
        keep_ratio: False

<WindowManager>:
    HomePage:
    WorkPage:
    WorkDetesPage:
    BreakPage:
    SummaryPage:

<HomePage>:
    name: "home"

    Background:

    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height

        Label:
            text: "Welcome to Phlo"
            font_size: 48
            bold: True
            font_name: "fonts/Zapfino.ttf"
            # color: 0, 0, 0, 1
        BoxLayout:
            orientation: "vertical"
        
            BoxLayout:
                orientation: "horizontal"
                Label:
                    text: "Max Work Time:"
                    # color: 0, 0, 0, 1

                Slider:
                    id: work_slider
                    min: 0
                    max: 60
                    value: 25
                    step: 5
                Label:
                    text: str(int(work_slider.value))
                    # color: 0, 0, 0, 1
            
            BoxLayout:
                orientation: "horizontal"
                Label:
                    text: "Max Break Time:"
                    # color: 0, 0, 0, 1

                Slider:
                    id: break_slider
                    min: 0
                    max: 30
                    value: 5
                    step: 5
                Label:
                    text: str(int(break_slider.value))
                    # color: 0, 0, 0, 1

        BoxLayout:
            orientation: "horizontal"
            Button:
                #text: "Connection Button"
                #font_size: 32
                size_hint: None, None
                pos_hint: { "right": 1 }
                background_color: 0,0,0,0
                #Image: 
                    #source: "Buttons/ButtonOn.jpg" if self.parent.state=="normal" else "Buttons/ButtonOff.jpg"
                    #size_hint: .3, .3 
                    #center_x: self.parent.center_x
                    #center_y: self.parent.center_y
            Button:
                text: "START WORK"
                bold: True
                font_size: 40
                pos_hint: { "center_x": .5 }
                background_color: 0,0,0,0
                on_release: 
                    app.root.current = "work"
                    root.manager.transition.direction = "left"
            Button:
                size_hint: None, None
                pos_hint: { "right": 1 }
                background_color: 0,0,0,0
                on_release: 
                    app.open_settings()
                Image: 
                    source: "Buttons/SettingsIcon_normal.png" if self.parent.state=="normal" else "Buttons/SettingsIcon_pressed.png"
                    center_x: self.parent.center_x
                    center_y: self.parent.center_y

<WorkPage>:
    name: "work"
    Background:

    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height

        Label:
            text: "Work Time:"
            font_size: 48
            bold: True
            #font_name: "fonts/Skia.ttf"
            # color: 0, 0, 0, 1

        Label:
            id: work_timer
            text: "[b]00[/b]:00:00"
            font_size: 60
            markup: True

        BoxLayout:
            orientation: "vertical"

            Button:
                text: "START BREAK"
                font_size: 40
                bold: True
                pos_hint: {"center_x": .5 }
                background_color: 0,0,0,0
                on_release: 
                    app.root.current = "break"
                    root.manager.transition.direction = "left"
                    
            Button:
                text: "WORK DETAILS"
                font_size: 40
                bold: True
                pos_hint: {"center_x": .5 }
                background_color: 0,0,0,0
                on_release: 
                    app.root.current = "workdetes"
                    root.manager.transition.direction = "up"

            Button:
                text: "END SESSION"
                font_size: 40
                bold: True
                pos_hint: {"center_x": .5 }
                background_color: 0,0,0,0
                on_release: 
                    app.root.current = "summary"
                    root.manager.transition.direction = "left"


<WorkDetesPage@Screen>:
    name: "workdetes"

    Background:

    BoxLayout:
        orientation: "vertical"

        Label:
            text: "Work Details:"
            font_size: 48
            bold: True
            #font_name: "fonts/Skia.ttf"
            # color: 0, 0, 0, 1
        
        Button:
            text: "BACK TO WORK"
            font_size: 40
            bold: True
            pos_hint: {"center_x": .5 }
            background_color: 0,0,0,0
            on_release: 
                app.root.current = "work"
                root.manager.transition.direction = "down"
    
<BreakPage@Screen>:
    name: "break"

    Background:

    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height

        Label:
            text: "Break Time:"
            font_size: 48
            bold: True
            #font_name: "fonts/Skia.ttf"
            # color: 0, 0, 0, 1

        Label:
            id: work_timer
            text: "[b]00[/b]:00:00"
            font_size: 60
            markup: True

        BoxLayout:
            orientation:"vertical"
            size: root.width, root.height
        
            Button:
                text: "BACK TO WORK"
                font_size: 40
                bold: True
                pos_hint: {"center_x": .5 }
                background_color: 0,0,0,0
                on_release: 
                    app.root.current = "work"
                    root.manager.transition.direction = "right"

            Button:
                text: "WORK DETAILS"
                font_size: 40
                bold: True
                pos_hint: {"center_x": .5 }
                background_color: 0,0,0,0
                on_release: 
                    app.root.current = "workdetes"
                    root.manager.transition.direction = "up"

            Button:
                text: "END SESSION"
                font_size: 40
                bold: True
                pos_hint: {"center_x": .5 }
                background_color: 0,0,0,0
                on_release: 
                    app.root.current = "summary"
                    root.manager.transition.direction = "left"

<SummaryPage@Screen>:
    name: "summary"

    Background:

    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height

        Label:
            text: "Work Summary:"
            font_size: 48
            bold: True
            #font_name: "fonts/Skia.ttf"
            # color: 0, 0, 0, 1
    
        Button:
            text: "BACK HOME"
            font_size: 40
            bold: True
            pos_hint: {"center_x": .5 }
            background_color: 0,0,0,0
            on_release: 
                app.root.current = "home"
                root.manager.transition.direction = "right"

