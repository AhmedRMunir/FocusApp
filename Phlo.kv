#:kivy 2.0
WindowManager:

<Button>
    font_size: 20
    size_hint: (0.3, 0.3)

<Background@FloatLayout>:
    Image:
        id: my_image
        source: "background.jpg"
        anim_delay: 0.04
        allow_stretch: True
        keep_ratio: False

<WindowManager>:
    HomePage:
    WorkPage:
    WorkDetesPage:
    BreakPage:
    SummaryPage:

<HomePage@FirstWindow>
    name: "home"

    Background:

    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height

        Label:
            text: "Home Page"
            font_size: 32
            # color: 0, 0, 0, 1
        BoxLayout:
            orientation: "vertical"
        
            BoxLayout:
                orientation: "horizontal"
                Label:
                    text: "Max Work Time:"
                    # color: 0, 0, 0, 1

                Slider:
                    id: work_slider
                    min: 0
                    max: 100
                    value: 50
                Label:
                    text: str(int(work_slider.value))
                    # color: 0, 0, 0, 1
            
            BoxLayout:
                orientation: "horizontal"
                Label:
                    text: "Max Break Time:"
                    # color: 0, 0, 0, 1

                Slider:
                    id: break_slider
                    min: 0
                    max: 100
                    value: 50
                Label:
                    text: str(int(break_slider.value))
                    # color: 0, 0, 0, 1

        Button:
            text: "Start Work"
            font_size: 32
            on_release: 
                app.root.current = "work"
                root.manager.transition.direction = "left"
        Button:
            text: "Settings"
            font_size: 32
            on_release: 
                app.open_settings()
        ImageButton:
            source: "button.jpg"
            on_release: app.open_settings()
                

<WorkPage@SecondWindow>
    name: "work"

    Background:

    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height

        Label:
            text: "Work Page"
            font_size: 32

        Button:
            text: "Work Details"
            font_size: 32
            on_release: 
                app.root.current = "workdetes"
                root.manager.transition.direction = "up"

        Button:
            text: "Break Time"
            font_size: 32
            on_release: 
                app.root.current = "break"
                root.manager.transition.direction = "left"

<WorkDetesPage@Screen>:
    name: "workdetes"

    Label:
        text: "Work Detes Page"
    
    Button:
        text: "Back to Work"
        font_size: 32
        on_release: 
            app.root.current = "work"
            root.manager.transition.direction = "down"
    
<BreakPage@Screen>:
    name: "break"

    Label:
        text: "Break page"

    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height
    
        Button:
            text: "Back to Work"
            font_size: 32
            on_release: 
                app.root.current = "work"
                root.manager.transition.direction = "right"
        
        Button:
            text: "End Session"
            font_size: 32
            on_release: 
                app.root.current = "summary"
                root.manager.transition.direction = "left"

<SummaryPage@Screen>:
    name: "summary"

    Label:
        text: "Summary page"

    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height
    
        Button:
            text: "Back to Home"
            font_size: 32
            on_release: 
                app.root.current = "home"
                root.manager.transition.dxirection = "left"

